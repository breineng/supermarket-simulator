# Unity Road Generator Tool

Инструмент для генерации дорожных сетей в Unity с поддержкой сеток перекрестков, бордюров, столбов и светофоров.

## Возможности

- **Сеточная генерация дорог**: Создание сетки дорог с настраиваемыми размерами
- **Перекрестки**: Автоматическая генерация перекрестков с правильными соединениями
- **Бордюры**: Генерация бордюров вдоль дорог с настраиваемой высотой и шириной
- **Столбы**: Размещение столбов вдоль дорог и на углах перекрестков
- **Светофоры**: Автоматическое размещение светофоров на крупных перекрестках
- **Корректная UV развертка**: Все меши имеют правильные UV координаты для текстурирования
- **Система пресетов**: Сохранение и загрузка настроек генерации

## Использование

### Открытие инструмента

1. В Unity Editor выберите `Tools > Road Generator`
2. Откроется окно Road Generator

### Настройки генерации

#### Grid Settings (Настройки сетки)
- **Grid Width/Height**: Количество блоков по ширине и высоте (1-10)
- **Block Size**: Размер одного блока в Unity единицах

#### Road Settings (Настройки дорог)
- **Road Width**: Ширина дороги
- **Road Height**: Высота дороги (для возвышенных дорог)
- **Intersection Size**: Размер перекрестков

#### Curb Settings (Настройки бордюров)
- **Generate Curbs**: Включить/выключить генерацию бордюров
- **Curb Width**: Ширина бордюра
- **Curb Height**: Высота бордюра

#### Street Furniture (Уличная мебель)
- **Generate Poles**: Включить/выключить генерацию столбов
- **Pole Height**: Высота столбов
- **Pole Spacing**: Расстояние между столбами
- **Generate Traffic Lights**: Включить/выключить генерацию светофоров

#### Materials (Материалы)
- **Road Material**: Материал для дорожного покрытия
- **Curb Material**: Материал для бордюров
- **Pole Material**: Материал для столбов и светофоров

#### Output Settings (Настройки вывода)
- **Output Path**: Путь для сохранения сгенерированных мешей
- **Mesh Name**: Базовое имя для сгенерированных мешей

### Работа с пресетами

1. **Создание нового пресета**: Настройте параметры и нажмите "Save As New Preset"
2. **Загрузка пресета**: Выберите пресет в поле "Current Preset" и нажмите "Load"
3. **Сохранение в существующий пресет**: Выберите пресет и нажмите "Save"

### Генерация дорог

1. Настройте все параметры согласно требованиям
2. Нажмите кнопку "Generate Road Network"
3. Инструмент создаст:
   - Родительский объект с именем `RoadNetwork_{MeshName}`
   - Отдельные GameObject для каждого сегмента дороги, перекрестка, бордюра, столба и светофора
   - Меш-файлы в указанной папке

### Очистка

Для удаления всех сгенерированных дорог нажмите "Clear Generated Roads"

## Структура генерируемых объектов

```
RoadNetwork_GeneratedRoad
├── Road_0, Road_1, ... (сегменты дорог)
├── Intersection_0, Intersection_1, ... (перекрестки)
├── Curb_0, Curb_1, ... (бордюры, если включены)
├── Pole_0, Pole_1, ... (столбы, если включены)
└── TrafficLight_0, TrafficLight_1, ... (светофоры, если включены)
```

## Технические особенности

### UV Mapping
- Дороги имеют UV координаты с тайлингом для текстур
- Бордюры используют проекционное UV маппирование
- Столбы имеют цилиндрическое UV маппирование

### Mesh Generation
- Все меши генерируются процедурно с правильными нормалями
- Вершины рассчитываются для плавного соединения элементов
- Используется оптимизированная геометрия

### Performance
- Каждый элемент создается как отдельный GameObject для гибкости
- Меши сохраняются как assets для повторного использования
- Поддержка больших сеток (до 10x10 блоков)

## Требования

- Unity 2020.3 или выше
- Поддержка Editor scripting

## Примечания

- Инструмент работает только в Editor, сгенерированные объекты статичны
- Для лучшего результата используйте подходящие материалы с тайлингом
- Рекомендуется создавать материалы с правильными настройками для дорог, бордюров и столбов
- При генерации больших сеток может потребоваться время для создания всех мешей 